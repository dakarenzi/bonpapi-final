---
const navLinks = [
  { href: "/", label: "Accueil" },
  { href: "/services", label: "Services" },
  { href: "/portfolio", label: "Portfolio" },
  { href: "/about", label: "Ã€ propos" },
  { href: "/pricing", label: "Tarifs" },
  { href: "/contact", label: "Contact" },
];
---

<style>
  nav {
    width: 100%;
    position: sticky;
    top: 0;
    z-index: 1000;
    backdrop-filter: blur(12px);
    background: rgba(15, 10, 31, 0.85); /* velvet */
    border-bottom: 1px solid rgba(255, 215, 0, 0.15); /* gold line */
  }

  .nav-container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 1rem 1.5rem;
    display: flex;
    align-items: center;
    justify-content: space-between;
  }

  /* Logo */
  .logo {
    font-size: 1.4rem;
    font-weight: 700;
    color: var(--gold);
    letter-spacing: 0.5px;
    text-transform: uppercase;
    transition: opacity 0.2s ease;
  }
  .logo:hover {
    opacity: 0.8;
  }

  /* Desktop Menu */
  .menu {
    display: flex;
    gap: 2rem;
  }

  .menu a {
    color: white;
    text-decoration: none;
    font-size: 1rem;
    letter-spacing: 0.4px;
    transition: color 0.2s ease, border-bottom 0.2s ease;
    padding-bottom: 4px;
  }

  .menu a:hover {
    color: var(--gold);
    border-bottom: 2px solid var(--gold);
  }

  .menu a.active {
    color: var(--gold);
    border-bottom: 2px solid var(--gold);
  }

  /* Mobile */
  .hamburger {
    display: none;
    flex-direction: column;
    cursor: pointer;
    gap: 5px;
  }

  .hamburger span {
    width: 26px;
    height: 3px;
    background-color: white;
    border-radius: 3px;
    transition: 0.3s ease;
  }

  .mobile-menu {
    display: none;
    flex-direction: column;
    background: rgba(15, 10, 31, 0.95);
    padding: 1.5rem;
    border-bottom: 1px solid rgba(255, 215, 0, 0.2);
    animation: slideDown 0.3s ease forwards;
  }

  .mobile-menu a {
    color: white;
    text-decoration: none;
    font-size: 1.1rem;
    padding: 0.75rem 0;
    border-bottom: 1px solid rgba(255, 255, 255, 0.07);
    transition: color 0.2s ease;
  }

  .mobile-menu a:hover {
    color: var(--gold);
  }

  @keyframes slideDown {
    from {
      opacity: 0;
      transform: translateY(-10px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  @media (max-width: 900px) {
    .menu {
      display: none;
    }
    .hamburger {
      display: flex;
    }
  }
</style>

<nav>
  <div class="nav-container">

    <!-- LOGO -->
    <a href="/" class="logo shimmer-gold">
      Agence BonPapi
    </a>

    <!-- DESKTOP MENU -->
    <div class="menu">
      {navLinks.map(link => (
        <a
          href={link.href}
          class={Astro.url.pathname === link.href ? "active" : ""}
        >
          {link.label}
        </a>
      ))}
    </div>

    <!-- HAMBURGER (Mobile) -->
    <div class="hamburger" id="hamburger">
      <span></span>
      <span></span>
      <span></span>
    </div>

  </div>

  <!-- MOBILE MENU -->
  <div id="mobileMenu" class="mobile-menu">
    {navLinks.map(link => (
      <a
        href={link.href}
        class={Astro.url.pathname === link.href ? "active" : ""}
      >
        {link.label}
      </a>
    ))}
  </div>
</nav>

<script>
  const hamburger = document.getElementById("hamburger");
  const mobileMenu = document.getElementById("mobileMenu");

  let menuOpen = false;

  hamburger.addEventListener("click", () => {
    menuOpen = !menuOpen;

    mobileMenu.style.display = menuOpen ? "flex" : "none";

    // Animate the hamburger into X
    const bars = hamburger.querySelectorAll("span");
    if (menuOpen) {
      bars[0].style.transform = "translateY(8px) rotate(45deg)";
      bars[1].style.opacity = "0";
      bars[2].style.transform = "translateY(-8px) rotate(-45deg)";
    } else {
      bars[0].style.transform = "none";
      bars[1].style.opacity = "1";
      bars[2].style.transform = "none";
    }
  });
</script>
